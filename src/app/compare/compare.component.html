<app-login [configId]="currentShowingID" [auth]="authToken"></app-login>
<div class="card">
  <form [formGroup]="filter">
    <div class="card-body">
      <div class="form-group">
        <label for="name-input">Suche</label>
        <input type="text" class="form-control" id="name-input" formControlName="name"
               (keyup)="filterPosts()">
      </div>
    </div>
  </form>
</div>
<ul *ngIf="mode=='update'" class="list-group" style="margin-top: 10px">
  <li *ngFor="let arr of postMyCoReKeys"  class="list-group-item">
    <a href="{{arr[1].url}}" [innerHTML]="arr[1].title"></a> ->
    <a href="{{config.repository+'receive/'+arr[0]}}" [innerHTML]="arr[0]"></a>
    <button *ngIf="authToken.token" (click)='updatePDF(arr[1], arr[0])' class="btn btn-primary float-right">update PDF</button>
  </li>
</ul>
<ul *ngIf="mode=='import'" class="list-group" style="margin-top: 10px">
  <li *ngFor="let post of this.notImported" class="list-group-item">
    <a href="{{post.url}}" target="_blank" [innerHTML]="post.title"></a>

    <button *ngIf="authToken.token && !post.importedURL" (click)='startImport(post)' class="btn btn-primary float-right">Importieren</button>
    <a *ngIf="post.importedURL" href="{{post.importedURL}}" class="float-right">{{post.importedURL}}</a>
  </li>
</ul>
